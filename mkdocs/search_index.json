{
    "docs": [
        {
            "location": "/",
            "text": "API Introduction\n\n\nAudience\n\n\nDevelopers who want to use the Flask API to collect and extract data.\n\n\nConcepts and terms\n\n\nThe user should have API permissions - An API user that defined by FlaskData team.\n\n\nThis API user has access to get data of his customer and EDC DBs that defined in his studies' EDC (dbname).\n\n\nThere are 3 FlaskData API environments:\n\n\n\n\ndevelopment environment : \ndev-api.flaskdata.io\n\n\nstaging environment : \nstaging-api.flaskdata.io\n\n\nproduction environment : \napi.flaskdata.io\n\n\n\n\nAll the API environments have swagger UI.\n\n\nSwagger Schemes should be HTTPS.\n\n\n\n\nFor using FlaskData API by swagger you need to click on \"Try it out\" of the relevant API.\n\n\n\n\nConfig/ change header and body request as needed and click on \"Execute\" button.\n\n\n\n\nClinCapture EDC\n\n\nClinCapture EDC is a database includes all study data (events, crfs, items, sites, subjects, data and etc.)\n\n\nSome studies use EDC data and UI to insert/update/delete/extract the study data.\n\n\nFlaskData and EDC are related, there are ETLs to load EDC data to FlaskData, FlaskData uses the data for analytics, alerts and etc.\n\n\nFlaskData APIs extract data from EDC.\n\n\nFlask Forms\n\n\nFlask Forms is a platform to save study CRFs data ( events, crfs, items and the data), This is a tool developed by FlaskData team, easy to use!\n\n\nSome studies use FlaskForms, The customer can build/ edit his study or FlaskData can do it for him.\n\n\nFlaskData and FlaskForms are related and there's a perfect user experience.\n\n\nFlaskData API extract data from FlaskForms data.\n\n\nGetting started API\n\n\nAuthorization\n\n\nFor using FlaskData APIs you need to get token first.\n\n\nFor getting FlaskData token use auth/authorize API.\n\n\nFor example - in development swagger environment : \nhttps://dev-api.flaskdata.io/swagger/#/FLASK/post_auth_authorize\n\n\nIn the body request (JSON) you need to set your API user's email and password, like:\n\n\n{\n  \"email\": \"xxx@gmail.com\",\n  \"password\": \"12345678\"\n}\n\n\nIn the response body you get an access token, like:\n\n\n{\n  \"token\": \"eyJhbGciOiJIUzM4NCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiV1BWaEJ3RnVMcGo2RjRTWVlkaENWSDBwZHR0SjlIZSIsImV4cCI6MTU3MjI3NjE5MDQwNywiaWF0IjoxNTcyMjY1MzkwfQ.f9CktAJxJ61D4act9ofB7wzfxOByREn22szMd6VqEW79E0L0AId_xXv4Vs4rdy8k\",\n  \"expired\": \"2019-10-28T15:23:10.407Z\"\n}\n\n\nNOTE: The expired time is UTC time.",
            "title": "Home"
        },
        {
            "location": "/#api-introduction",
            "text": "",
            "title": "API Introduction"
        },
        {
            "location": "/#audience",
            "text": "Developers who want to use the Flask API to collect and extract data.",
            "title": "Audience"
        },
        {
            "location": "/#concepts-and-terms",
            "text": "The user should have API permissions - An API user that defined by FlaskData team.  This API user has access to get data of his customer and EDC DBs that defined in his studies' EDC (dbname).  There are 3 FlaskData API environments:   development environment :  dev-api.flaskdata.io  staging environment :  staging-api.flaskdata.io  production environment :  api.flaskdata.io   All the API environments have swagger UI.  Swagger Schemes should be HTTPS.   For using FlaskData API by swagger you need to click on \"Try it out\" of the relevant API.   Config/ change header and body request as needed and click on \"Execute\" button.",
            "title": "Concepts and terms"
        },
        {
            "location": "/#clincapture-edc",
            "text": "ClinCapture EDC is a database includes all study data (events, crfs, items, sites, subjects, data and etc.)  Some studies use EDC data and UI to insert/update/delete/extract the study data.  FlaskData and EDC are related, there are ETLs to load EDC data to FlaskData, FlaskData uses the data for analytics, alerts and etc.  FlaskData APIs extract data from EDC.",
            "title": "ClinCapture EDC"
        },
        {
            "location": "/#flask-forms",
            "text": "Flask Forms is a platform to save study CRFs data ( events, crfs, items and the data), This is a tool developed by FlaskData team, easy to use!  Some studies use FlaskForms, The customer can build/ edit his study or FlaskData can do it for him.  FlaskData and FlaskForms are related and there's a perfect user experience.  FlaskData API extract data from FlaskForms data.",
            "title": "Flask Forms"
        },
        {
            "location": "/#getting-started-api",
            "text": "",
            "title": "Getting started API"
        },
        {
            "location": "/#authorization",
            "text": "For using FlaskData APIs you need to get token first.  For getting FlaskData token use auth/authorize API.  For example - in development swagger environment :  https://dev-api.flaskdata.io/swagger/#/FLASK/post_auth_authorize  In the body request (JSON) you need to set your API user's email and password, like:  {\n  \"email\": \"xxx@gmail.com\",\n  \"password\": \"12345678\"\n}  In the response body you get an access token, like:  {\n  \"token\": \"eyJhbGciOiJIUzM4NCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJiV1BWaEJ3RnVMcGo2RjRTWVlkaENWSDBwZHR0SjlIZSIsImV4cCI6MTU3MjI3NjE5MDQwNywiaWF0IjoxNTcyMjY1MzkwfQ.f9CktAJxJ61D4act9ofB7wzfxOByREn22szMd6VqEW79E0L0AId_xXv4Vs4rdy8k\",\n  \"expired\": \"2019-10-28T15:23:10.407Z\"\n}  NOTE: The expired time is UTC time.",
            "title": "Authorization"
        },
        {
            "location": "/apiflows/",
            "text": "API flows\n\n\nThe API has 2 parts of APIs - EDC and Flask.\n\n\n\n\nEDC - APIs are related to ClinCapture EDC (extract EDC data and etc.)\n\n\nFlask - APIs are related to flask data (extract data, insert data and etc.)\n\n\n\n\nNOTES:\n\n\n\n\n\n\nAuthorization parameter in the header request should be the token you had get before from you \nauthorization request\n.\n\n\n\n\n\n\nEDC parameter in the header request should be the EDC DB name.\n\n\n\n\n\n\nIn this document there are a few examples of FlaskData APIs - There are more EDC APIs, their description exists in swagger.\n\n\nFor more details and questions contact us by sending email to \nsupport@clearclinica.com\n.\n\n\nEDC\n\n\nExtract EDC Data\n\n\nThere are a few APIs you can use to extract your ClinCapture EDC data.\n\n\nFor example:\n\n\n/edc/study/extract-data\n\n\nThis API extract EDC data of each table/view/function (like functionName()) and return json.\n\n\nfromDate, toDate, sort, filters and inputVariables(if tableName is a function) are optional values.\n\n\nFilters and inputVariable json objects - the key is the column name/ input variable name in postgres, the json value is the compare value (like where site = XXX)/ input value in function (like schema.function(XXX)).\n\n\nFor example:\n\n\n{\n  \"tableName\": \"cc_event_data\",\n  \"fromDate\": \"2017-01-01T00:00:00.000Z\",\n  \"toDate\": \"2019-02-01T00:00:00.000Z\",\n  \"sort\": \"subject\"\n}\n\n\nAnother example:\n\n\n{\n  \"tableName\": \"cross_event_crf_data\"\n}\n\n\n/edc/study/download-csvs-data\n\n\nThis API downloads a zip folder includes EDC study data. Each csv is an event CRF data.\n\n\n/edc/study/extract-study-data-at-crf-level\n\n\nThis API extracts EDC data at CRF level and returns the data as a json object.\n\n\nThis API returns only CRFs with data.\n\n\nThis API has filters option (from date and to date are related to date_updated column, filters can include each column and value with equal sign).\n\n\n/edc/study/extract-study-data-at-crf-level-to-csvs\n\n\nThis API extracts EDC data at CRF level and returns a zip folder includes CSV files (each CRF as CSV file).\n\n\nThis API returns only CRFs with data.\n\n\nThis API has filters option (from date and to date are related to date_updated column, filters can include each column and value with equal sign).\n\n\n/edc/subjects/create-subject\n\n\nThis API creates a subject in EDC DB and returns the study_subject_id value.\n\n\nFlask\n\n\n/flask/customer/extract-data-to-json\n\n\nThis API extracts data from flask tables and views for your customer.\n\n\nThe table/ view should have customer_id column for this process.\n\n\nFor example: studies table, audit_user_login, billing_reports_customer and etc.\n\n\nstudyIds and filters are optional.\n\n\n/flask/customer/download-billing-reports\n\n\nThis API downloads a billing reports folder for the month of the billingDate parameter.\n\n\nThe billing report zip folder includes all the billing report files for your customer.\n\n\nNOTE - This process will download files only if the billing reports features turn on in your customer account.\n\n\n/flask/device/get-logs\n\n\nThis API returns device logs of a study.\n\n\n/flask/device/insert-log\n\n\nThis API inserts device log into flaskData with correct study_id according to EDC.\n\n\npayload parameter is optional and can include each key value pairs.\n\n\n/flask/study/create-update-flask-study\n\n\nThis API creates/updates study in FlaskData.\n\n\n/flask/site/create-update-flask-site\n\n\nThis API creates/updates site in FlaskData.\n\n\n/flask/study/create-update-flask-study-users\n\n\nThis API creates user if not exists and assigned users to study.\n\n\nNOTE - This API deletes the users that were assigned to this study and assigned the new users.\n\n\n/flask/subject/extract-study-event-data-to-CSV\n\n\nThis API extracts all study data (from FlaskForms) based on study id and download CSV files.\n\n\n/flask/crf/create-CRF-and-insert-data\n\n\nThis API creates CRF in existing event and insert data\n\n\nExample - Creates a new AE (adverse event) CRF in existing event.\n\n\n/flask/crf/create-event-CRF-and-insert-data\n\n\nThis API creates event and CRF and inserts data.\n\n\nExample - Creates a new Medication event with CRF and inserts data.\n\n\n/flask/crf/get-CRF-data-ids\n\n\nThis API returns subject's crf data Id (unique for each CRF) for specific crf name.\n\n\n/flask/crf/update-CRF-data\n\n\nThis API updates CRF data by crf data id.\n\n\nUse Cases\n\n\nNOTE: The following examples require jQuery later version\n\n\nGeneral example of extract data using JS:\n\n\nvar xhrcall = $.ajax({\n                        url: 'https://dev-api.flaskdata.io/flask/customer/extract-data-to-json',\n                        type: 'POST',\n                        headers: {\n                            'Authorization': jwt},\n                        data: '{\n                                \"tableName\": \"studies\",\n                                \"fromDate\": \"2018-03-29T11:44:12.511Z\",\n                                \"toDate\": \"2019-03-29T11:44:12.511Z\"                                    \n                              }',\n                          contentType: 'application/json'\n                      });\n  //promise syntax to render after xhr completes\n  xhrcall\n      .done(function(data){\n              // Enter your code here\n      })\n      .fail(function(error) {\n                if(error) {\n                    // Enter your code here  \n                }\n      });\n\n\n\nSave data in CRF JS Example.\n\n\nYour study uses FlaskForms application.\n\n\nYou have a mobile app and you want to collect data and save it to a Flask Forms Event/CRF\n\n\nThis JS code is an example to create CRF and save its data into existing event.\n\n\n    $(document).ready(function() {\n          // Call insertDataIntoFlaskFormsCRF function to assign new CRF and save data.\n          // Input values : user email, user password, study id, subject label, event name, CRF name, CRF data.\n          insertDataIntoFlaskFormsCRF(\"mongositerole@clearclinica.com\", \"123456\", 145858, 'mongo_test_site_1-03', 'Screening', 'Subject properties', {\"ITEM_SP_AGE_WR6NP\":30, \"ITEM_SP_MANWOMAN_HDNAO\":2});\n     });\n    var insertDataIntoFlaskFormsCRF = function(uEmail, uPass, studyId, subjectLabel, eventName, crfName, crfData){\n        // Get token\n        getFlaskDataToken(uEmail, uPass, function(userToken){\n            var token = userToken;\n            // Create new CRF in existin event and insert data\n            createCRFandInsertData(token, studyId, subjectLabel, eventName, crfName, crfData, function(crfDataId){\n                console.log(crfDataId);\n                // Save this crfDataId if you will need to update this CRF data                    \n            });\n        });\n    }\n\n    var getFlaskDataToken = function(email, password, cb) {\n          // Get JWT token\n          var xhrcall = $.ajax({\n                                  url: 'https://dev-api.flaskdata.io/auth/authorize',\n                                  type: 'POST',\n                                  data: '{\"email\":\"' + email + '\",\"password\":\"' + password +'\"}',\n                                    contentType: 'application/json'\n                                });\n            //promise syntax to render after xhr completes\n            xhrcall\n                .done(function(data){\n                        // Enter your code here\n                        cb(data.token);\n                })\n                .fail(function(error) {\n                          if(error) {\n                              // Enter your code here\n                              console.log('Failed to get token ' + error);\n                          }\n                });\n      }\n\n      // Create new CRF and insert data\n      // /flask/crf/create-CRF-and-insert-data\n      var createCRFandInsertData = function(token, study_id, subject_label, event_name, crf_name, crf_data, cb) {\n          var xhrcall = $.ajax({\n                                  url: 'https://dev-api.flaskdata.io/flask/crf/create-CRF-and-insert-data',\n                                  type: 'POST',\n                                  headers: {\n                                      'Authorization': token},\n                                  data: '{\"study_id\": '+study_id+',\"subject_label\": \"'+subject_label+'\",\"event_name\": \"'+event_name+'\",\"crf_name\": \"'+crf_name+'\",\"crf_data\": '+ JSON.stringify(crf_data) +' }',\n                                  contentType: 'application/json'\n                                });\n            //promise syntax to render after xhr completes\n            xhrcall\n                .done(function(data){\n                        // Enter your code here                            \n                        cb(data.crfDataId);\n                })\n                .fail(function(error) {\n                          if(error) {\n                              // Enter your code here\n                              console.log('Failed to create CRF and insert data :' + JSON.stringify(error));\n                          }\n                });\n      }\n\n\n\nYour application should call insertDataIntoFlaskFormsCRF function with the following input parameters:\n\n\n\n\nuser email - Your customer API user email address for authorization.\n\n\nuser password - Your customer API user password for authorization.\n\n\nstudyId - Your study Id parameter, You can take it from study dashboard URL.\n\n\n\nSubject label - Subject label from flaskdata, for example:\n\n\n\nEvent name for creating CRF, for example:\n\n\n\nCRF name for creating CRF, for example (in flask forms):\n\n\n\nCRF data - for saving CRF data, Json structure, key value pair, The key is the item's variable (as it's defined in flask forms) and the value is the data for this variable.\nfor example: \n{\"ITEM_SP_AGE_WR6NP\":30, \"ITEM_SP_MANWOMAN_HDNAO\":2}\n\n\n\nThe output should be new CRF for the subject with the correct data, for example:\n\n\n\n\n\nExample of calling FlaskData API using jQuery older version\n\n\n  var http = new XMLHttpRequest();\n  var url = 'https://dev-api.flaskdata.io/auth/authorize';\n  var params = '{\"email\":\"xxx@gmail.com\",\"password\":\"123456\"}';\n  http.open('POST', url, true);\n\n  //Send the proper header information along with the request\n  http.setRequestHeader('Content-type', 'application/json');\n\n  http.onreadystatechange = function() {//Call a function when the state changes.\n      if(http.readyState == 4 && http.status == 200) {\n          alert(http.responseText);\n      }\n  }\n  http.send(params);",
            "title": "Apiflows"
        },
        {
            "location": "/apiflows/#api-flows",
            "text": "The API has 2 parts of APIs - EDC and Flask.   EDC - APIs are related to ClinCapture EDC (extract EDC data and etc.)  Flask - APIs are related to flask data (extract data, insert data and etc.)   NOTES:    Authorization parameter in the header request should be the token you had get before from you  authorization request .    EDC parameter in the header request should be the EDC DB name.    In this document there are a few examples of FlaskData APIs - There are more EDC APIs, their description exists in swagger.  For more details and questions contact us by sending email to  support@clearclinica.com .",
            "title": "API flows"
        },
        {
            "location": "/apiflows/#edc",
            "text": "",
            "title": "EDC"
        },
        {
            "location": "/apiflows/#extract-edc-data",
            "text": "There are a few APIs you can use to extract your ClinCapture EDC data.  For example:",
            "title": "Extract EDC Data"
        },
        {
            "location": "/apiflows/#edcstudyextract-data",
            "text": "This API extract EDC data of each table/view/function (like functionName()) and return json.  fromDate, toDate, sort, filters and inputVariables(if tableName is a function) are optional values.  Filters and inputVariable json objects - the key is the column name/ input variable name in postgres, the json value is the compare value (like where site = XXX)/ input value in function (like schema.function(XXX)).  For example:  {\n  \"tableName\": \"cc_event_data\",\n  \"fromDate\": \"2017-01-01T00:00:00.000Z\",\n  \"toDate\": \"2019-02-01T00:00:00.000Z\",\n  \"sort\": \"subject\"\n}  Another example:  {\n  \"tableName\": \"cross_event_crf_data\"\n}",
            "title": "/edc/study/extract-data"
        },
        {
            "location": "/apiflows/#edcstudydownload-csvs-data",
            "text": "This API downloads a zip folder includes EDC study data. Each csv is an event CRF data.",
            "title": "/edc/study/download-csvs-data"
        },
        {
            "location": "/apiflows/#edcstudyextract-study-data-at-crf-level",
            "text": "This API extracts EDC data at CRF level and returns the data as a json object.  This API returns only CRFs with data.  This API has filters option (from date and to date are related to date_updated column, filters can include each column and value with equal sign).",
            "title": "/edc/study/extract-study-data-at-crf-level"
        },
        {
            "location": "/apiflows/#edcstudyextract-study-data-at-crf-level-to-csvs",
            "text": "This API extracts EDC data at CRF level and returns a zip folder includes CSV files (each CRF as CSV file).  This API returns only CRFs with data.  This API has filters option (from date and to date are related to date_updated column, filters can include each column and value with equal sign).",
            "title": "/edc/study/extract-study-data-at-crf-level-to-csvs"
        },
        {
            "location": "/apiflows/#edcsubjectscreate-subject",
            "text": "This API creates a subject in EDC DB and returns the study_subject_id value.",
            "title": "/edc/subjects/create-subject"
        },
        {
            "location": "/apiflows/#flask",
            "text": "",
            "title": "Flask"
        },
        {
            "location": "/apiflows/#flaskcustomerextract-data-to-json",
            "text": "This API extracts data from flask tables and views for your customer.  The table/ view should have customer_id column for this process.  For example: studies table, audit_user_login, billing_reports_customer and etc.  studyIds and filters are optional.",
            "title": "/flask/customer/extract-data-to-json"
        },
        {
            "location": "/apiflows/#flaskcustomerdownload-billing-reports",
            "text": "This API downloads a billing reports folder for the month of the billingDate parameter.  The billing report zip folder includes all the billing report files for your customer.  NOTE - This process will download files only if the billing reports features turn on in your customer account.",
            "title": "/flask/customer/download-billing-reports"
        },
        {
            "location": "/apiflows/#flaskdeviceget-logs",
            "text": "This API returns device logs of a study.",
            "title": "/flask/device/get-logs"
        },
        {
            "location": "/apiflows/#flaskdeviceinsert-log",
            "text": "This API inserts device log into flaskData with correct study_id according to EDC.  payload parameter is optional and can include each key value pairs.",
            "title": "/flask/device/insert-log"
        },
        {
            "location": "/apiflows/#flaskstudycreate-update-flask-study",
            "text": "This API creates/updates study in FlaskData.",
            "title": "/flask/study/create-update-flask-study"
        },
        {
            "location": "/apiflows/#flasksitecreate-update-flask-site",
            "text": "This API creates/updates site in FlaskData.",
            "title": "/flask/site/create-update-flask-site"
        },
        {
            "location": "/apiflows/#flaskstudycreate-update-flask-study-users",
            "text": "This API creates user if not exists and assigned users to study.  NOTE - This API deletes the users that were assigned to this study and assigned the new users.",
            "title": "/flask/study/create-update-flask-study-users"
        },
        {
            "location": "/apiflows/#flasksubjectextract-study-event-data-to-csv",
            "text": "This API extracts all study data (from FlaskForms) based on study id and download CSV files.",
            "title": "/flask/subject/extract-study-event-data-to-CSV"
        },
        {
            "location": "/apiflows/#flaskcrfcreate-crf-and-insert-data",
            "text": "This API creates CRF in existing event and insert data  Example - Creates a new AE (adverse event) CRF in existing event.",
            "title": "/flask/crf/create-CRF-and-insert-data"
        },
        {
            "location": "/apiflows/#flaskcrfcreate-event-crf-and-insert-data",
            "text": "This API creates event and CRF and inserts data.  Example - Creates a new Medication event with CRF and inserts data.",
            "title": "/flask/crf/create-event-CRF-and-insert-data"
        },
        {
            "location": "/apiflows/#flaskcrfget-crf-data-ids",
            "text": "This API returns subject's crf data Id (unique for each CRF) for specific crf name.",
            "title": "/flask/crf/get-CRF-data-ids"
        },
        {
            "location": "/apiflows/#flaskcrfupdate-crf-data",
            "text": "This API updates CRF data by crf data id.",
            "title": "/flask/crf/update-CRF-data"
        },
        {
            "location": "/apiflows/#use-cases",
            "text": "NOTE: The following examples require jQuery later version",
            "title": "Use Cases"
        },
        {
            "location": "/apiflows/#general-example-of-extract-data-using-js",
            "text": "var xhrcall = $.ajax({\n                        url: 'https://dev-api.flaskdata.io/flask/customer/extract-data-to-json',\n                        type: 'POST',\n                        headers: {\n                            'Authorization': jwt},\n                        data: '{\n                                \"tableName\": \"studies\",\n                                \"fromDate\": \"2018-03-29T11:44:12.511Z\",\n                                \"toDate\": \"2019-03-29T11:44:12.511Z\"                                    \n                              }',\n                          contentType: 'application/json'\n                      });\n  //promise syntax to render after xhr completes\n  xhrcall\n      .done(function(data){\n              // Enter your code here\n      })\n      .fail(function(error) {\n                if(error) {\n                    // Enter your code here  \n                }\n      });",
            "title": "General example of extract data using JS:"
        },
        {
            "location": "/apiflows/#save-data-in-crf-js-example",
            "text": "Your study uses FlaskForms application.  You have a mobile app and you want to collect data and save it to a Flask Forms Event/CRF  This JS code is an example to create CRF and save its data into existing event.      $(document).ready(function() {\n          // Call insertDataIntoFlaskFormsCRF function to assign new CRF and save data.\n          // Input values : user email, user password, study id, subject label, event name, CRF name, CRF data.\n          insertDataIntoFlaskFormsCRF(\"mongositerole@clearclinica.com\", \"123456\", 145858, 'mongo_test_site_1-03', 'Screening', 'Subject properties', {\"ITEM_SP_AGE_WR6NP\":30, \"ITEM_SP_MANWOMAN_HDNAO\":2});\n     });\n    var insertDataIntoFlaskFormsCRF = function(uEmail, uPass, studyId, subjectLabel, eventName, crfName, crfData){\n        // Get token\n        getFlaskDataToken(uEmail, uPass, function(userToken){\n            var token = userToken;\n            // Create new CRF in existin event and insert data\n            createCRFandInsertData(token, studyId, subjectLabel, eventName, crfName, crfData, function(crfDataId){\n                console.log(crfDataId);\n                // Save this crfDataId if you will need to update this CRF data                    \n            });\n        });\n    }\n\n    var getFlaskDataToken = function(email, password, cb) {\n          // Get JWT token\n          var xhrcall = $.ajax({\n                                  url: 'https://dev-api.flaskdata.io/auth/authorize',\n                                  type: 'POST',\n                                  data: '{\"email\":\"' + email + '\",\"password\":\"' + password +'\"}',\n                                    contentType: 'application/json'\n                                });\n            //promise syntax to render after xhr completes\n            xhrcall\n                .done(function(data){\n                        // Enter your code here\n                        cb(data.token);\n                })\n                .fail(function(error) {\n                          if(error) {\n                              // Enter your code here\n                              console.log('Failed to get token ' + error);\n                          }\n                });\n      }\n\n      // Create new CRF and insert data\n      // /flask/crf/create-CRF-and-insert-data\n      var createCRFandInsertData = function(token, study_id, subject_label, event_name, crf_name, crf_data, cb) {\n          var xhrcall = $.ajax({\n                                  url: 'https://dev-api.flaskdata.io/flask/crf/create-CRF-and-insert-data',\n                                  type: 'POST',\n                                  headers: {\n                                      'Authorization': token},\n                                  data: '{\"study_id\": '+study_id+',\"subject_label\": \"'+subject_label+'\",\"event_name\": \"'+event_name+'\",\"crf_name\": \"'+crf_name+'\",\"crf_data\": '+ JSON.stringify(crf_data) +' }',\n                                  contentType: 'application/json'\n                                });\n            //promise syntax to render after xhr completes\n            xhrcall\n                .done(function(data){\n                        // Enter your code here                            \n                        cb(data.crfDataId);\n                })\n                .fail(function(error) {\n                          if(error) {\n                              // Enter your code here\n                              console.log('Failed to create CRF and insert data :' + JSON.stringify(error));\n                          }\n                });\n      }  Your application should call insertDataIntoFlaskFormsCRF function with the following input parameters:   user email - Your customer API user email address for authorization.  user password - Your customer API user password for authorization.  studyId - Your study Id parameter, You can take it from study dashboard URL.  Subject label - Subject label from flaskdata, for example:  Event name for creating CRF, for example:  CRF name for creating CRF, for example (in flask forms):  CRF data - for saving CRF data, Json structure, key value pair, The key is the item's variable (as it's defined in flask forms) and the value is the data for this variable.\nfor example:  {\"ITEM_SP_AGE_WR6NP\":30, \"ITEM_SP_MANWOMAN_HDNAO\":2}  \nThe output should be new CRF for the subject with the correct data, for example:",
            "title": "Save data in CRF JS Example."
        },
        {
            "location": "/apiflows/#example-of-calling-flaskdata-api-using-jquery-older-version",
            "text": "var http = new XMLHttpRequest();\n  var url = 'https://dev-api.flaskdata.io/auth/authorize';\n  var params = '{\"email\":\"xxx@gmail.com\",\"password\":\"123456\"}';\n  http.open('POST', url, true);\n\n  //Send the proper header information along with the request\n  http.setRequestHeader('Content-type', 'application/json');\n\n  http.onreadystatechange = function() {//Call a function when the state changes.\n      if(http.readyState == 4 && http.status == 200) {\n          alert(http.responseText);\n      }\n  }\n  http.send(params);",
            "title": "Example of calling FlaskData API using jQuery older version"
        }
    ]
}